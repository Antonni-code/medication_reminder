<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Medication Reminder - Updated Wiring (4 Buttons)</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            max-width: 1400px;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 14px;
        }
        .badge {
            display: inline-block;
            background: #4CAF50;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        canvas {
            border: 2px solid #ddd;
            border-radius: 10px;
            display: block;
            margin: 0 auto;
            background: #f9f9f9;
        }
        .legend {
            margin-top: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: #f0f0f0;
            border-radius: 8px;
        }
        .color-box {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            margin-right: 10px;
            border: 2px solid #333;
        }
        .notes {
            margin-top: 25px;
            padding: 20px;
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            border-radius: 5px;
        }
        .notes h3 {
            margin-top: 0;
            color: #856404;
        }
        .notes ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .notes li {
            margin: 8px 0;
            color: #856404;
        }
        .feature-box {
            margin-top: 20px;
            padding: 20px;
            background: #d4edda;
            border-left: 5px solid #28a745;
            border-radius: 5px;
        }
        .feature-box h3 {
            margin-top: 0;
            color: #155724;
        }
        .feature-box ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .feature-box li {
            margin: 8px 0;
            color: #155724;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üè• Smart Medication Reminder Box - Wiring Diagram</h1>
        <p class="subtitle">With Adjustable Alarm Times & Multiple Daily Doses</p>
        <div style="text-align: center;">
            <span class="badge">‚ú® NEW: 4 BUTTONS FOR EASY SETUP</span>
        </div>
        
        <canvas id="wiringCanvas" width="1340" height="950"></canvas>
        
        <div class="legend">
            <div class="legend-item">
                <div class="color-box" style="background: #e74c3c;"></div>
                <div><strong>Red = 5V Power</strong></div>
            </div>
            <div class="legend-item">
                <div class="color-box" style="background: #2c3e50;"></div>
                <div><strong>Black = Ground (GND)</strong></div>
            </div>
            <div class="legend-item">
                <div class="color-box" style="background: #3498db;"></div>
                <div><strong>Blue = SDA (Data)</strong></div>
            </div>
            <div class="legend-item">
                <div class="color-box" style="background: #9b59b6;"></div>
                <div><strong>Purple = SCL (Clock)</strong></div>
            </div>
            <div class="legend-item">
                <div class="color-box" style="background: #f39c12;"></div>
                <div><strong>Orange = Digital Signals</strong></div>
            </div>
        </div>

        <div class="feature-box">
            <h3>‚ú® New Features:</h3>
            <ul>
                <li><strong>UP Button (Pin 10):</strong> Navigate up in menu / Increase hour or minute</li>
                <li><strong>DOWN Button (Pin 11):</strong> Navigate down in menu / Decrease hour or minute</li>
                <li><strong>SET Button (Pin 12):</strong> Enter menu / Save settings / Move to next field</li>
                <li><strong>CONFIRM Button (Pin 13):</strong> Confirm you took your medication</li>
                <li><strong>3 Daily Doses:</strong> Set Morning, Afternoon, and Evening alarm times</li>
                <li><strong>Settings Saved:</strong> Your alarm times are stored even when powered off</li>
            </ul>
        </div>

        <div class="notes">
            <h3>‚ö†Ô∏è Important Notes:</h3>
            <ul>
                <li><strong>4 Buttons Total:</strong> Each button connects to its own Arduino pin (10, 11, 12, 13)</li>
                <li><strong>Button Wiring:</strong> One leg to Arduino pin, other leg to GND, plus 10kŒ© resistor to 5V</li>
                <li><strong>I2C Devices:</strong> OLED and RTC both share SDA (A4) and SCL (A5) pins - this is normal!</li>
                <li><strong>Buzzer:</strong> Only 2 wires - Signal to Pin 9, GND to ground</li>
                <li><strong>LED Direction:</strong> Long leg (anode) goes to Arduino pin through resistor, short leg to GND</li>
                <li><strong>Resistors:</strong> 220Œ© for LEDs (red-red-brown), 10kŒ© for buttons (brown-black-orange)</li>
                <li><strong>Power Rails:</strong> Use breadboard's + rail for 5V and - rail for GND to keep it organized</li>
                <li><strong>Default Times:</strong> Morning 8:00 AM, Afternoon 1:00 PM, Evening 8:00 PM (changeable via buttons!)</li>
            </ul>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('wiringCanvas');
        const ctx = canvas.getContext('2d');

        // Color scheme
        const colors = {
            power: '#e74c3c',
            ground: '#2c3e50',
            sda: '#3498db',
            scl: '#9b59b6',
            signal: '#f39c12',
            component: '#ecf0f1',
            arduino: '#00979D',
            text: '#2c3e50',
            button: '#4CAF50'
        };

        // Draw Arduino Uno
        function drawArduino(x, y) {
            // Main board
            ctx.fillStyle = colors.arduino;
            ctx.fillRect(x, y, 180, 280);
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 3;
            ctx.strokeRect(x, y, 180, 280);
            
            // Label
            ctx.fillStyle = 'white';
            ctx.font = 'bold 20px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('ARDUINO', x + 90, y + 30);
            ctx.fillText('UNO', x + 90, y + 50);
            
            // USB port
            ctx.fillStyle = '#555';
            ctx.fillRect(x + 60, y - 10, 60, 15);
            
            // Power jack
            ctx.fillStyle = '#333';
            ctx.beginPath();
            ctx.arc(x + 30, y + 30, 8, 0, Math.PI * 2);
            ctx.fill();
            
            // Digital pins (right side)
            ctx.fillStyle = 'white';
            ctx.font = '10px Arial';
            ctx.textAlign = 'left';
            const digitalPins = ['2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13'];
            digitalPins.forEach((pin, i) => {
                const py = y + 80 + (i * 15);
                ctx.fillStyle = '#333';
                ctx.fillRect(x + 180, py, 30, 8);
                ctx.fillStyle = 'white';
                ctx.fillText(pin, x + 188, py + 7);
            });
            
            // Analog pins (bottom)
            ctx.textAlign = 'center';
            const analogPins = ['A0', 'A1', 'A2', 'A3', 'A4', 'A5'];
            analogPins.forEach((pin, i) => {
                const px = x + 20 + (i * 25);
                ctx.fillStyle = '#333';
                ctx.fillRect(px, y + 280, 20, 30);
                ctx.fillStyle = 'white';
                ctx.font = '9px Arial';
                ctx.fillText(pin, px + 10, y + 295);
            });
            
            // Power pins (left side)
            ctx.textAlign = 'right';
            const powerPins = ['5V', 'GND', 'GND', 'VIN'];
            powerPins.forEach((pin, i) => {
                const py = y + 80 + (i * 20);
                ctx.fillStyle = '#333';
                ctx.fillRect(x - 30, py, 30, 12);
                ctx.fillStyle = 'white';
                ctx.font = '10px Arial';
                ctx.fillText(pin, x - 5, py + 9);
            });
        }

        // Draw component box
        function drawComponent(x, y, width, height, label, sublabel = '') {
            ctx.fillStyle = colors.component;
            ctx.fillRect(x, y, width, height);
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.strokeRect(x, y, width, height);
            
            ctx.fillStyle = colors.text;
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(label, x + width/2, y + height/2 - 5);
            
            if (sublabel) {
                ctx.font = '11px Arial';
                ctx.fillText(sublabel, x + width/2, y + height/2 + 10);
            }
        }

        // Draw wire
        function drawWire(x1, y1, x2, y2, color, label = '') {
            ctx.strokeStyle = color;
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            
            // Create curved path for better visibility
            if (Math.abs(x2 - x1) > Math.abs(y2 - y1)) {
                const midX = (x1 + x2) / 2;
                ctx.lineTo(midX, y1);
                ctx.lineTo(midX, y2);
            } else {
                const midY = (y1 + y2) / 2;
                ctx.lineTo(x1, midY);
                ctx.lineTo(x2, midY);
            }
            
            ctx.lineTo(x2, y2);
            ctx.stroke();
            
            // Draw label
            if (label) {
                ctx.fillStyle = 'white';
                ctx.strokeStyle = color;
                ctx.lineWidth = 4;
                const midX = (x1 + x2) / 2;
                const midY = (y1 + y2) / 2;
                ctx.font = 'bold 11px Arial';
                ctx.textAlign = 'center';
                ctx.strokeText(label, midX, midY - 5);
                ctx.fillText(label, midX, midY - 5);
            }
        }

        // Draw pin connection dot
        function drawPin(x, y, color) {
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.arc(x, y, 5, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        // Draw button with resistor
        function drawButton(x, y, label, icon) {
            // Button body
            ctx.fillStyle = colors.button;
            ctx.fillRect(x, y, 70, 50);
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.strokeRect(x, y, 70, 50);
            
            // Button label
            ctx.fillStyle = 'white';
            ctx.font = 'bold 12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(icon, x + 35, y + 22);
            ctx.font = '10px Arial';
            ctx.fillText(label, x + 35, y + 38);
            
            // Resistor on top
            ctx.strokeStyle = '#D2691E';
            ctx.lineWidth = 6;
            ctx.beginPath();
            ctx.moveTo(x + 35, y - 5);
            ctx.lineTo(x + 35, y - 30);
            ctx.stroke();
            
            // Resistor stripes
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            for (let j = 0; j < 3; j++) {
                ctx.beginPath();
                ctx.moveTo(x + 28, y - 10 - (j * 5));
                ctx.lineTo(x + 42, y - 10 - (j * 5));
                ctx.stroke();
            }
            
            // 10kŒ© label
            ctx.fillStyle = colors.text;
            ctx.font = '9px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('10kŒ©', x + 45, y - 15);
        }

        // Main drawing
        const arduinoX = 570;
        const arduinoY = 250;
        
        // Draw Arduino
        drawArduino(arduinoX, arduinoY);
        
        // Draw OLED Display
        drawComponent(100, 80, 120, 80, 'OLED Display', '128x64 I2C');
        // OLED pins
        drawPin(220, 110, colors.power);
        drawPin(220, 125, colors.ground);
        drawPin(220, 140, colors.sda);
        drawPin(220, 155, colors.scl);
        
        // Draw RTC Module
        drawComponent(100, 200, 120, 80, 'RTC Module', 'DS1307');
        drawPin(220, 230, colors.power);
        drawPin(220, 245, colors.ground);
        drawPin(220, 260, colors.sda);
        drawPin(220, 275, colors.scl);
        
        // Draw LEDs (7 in a row)
        const ledStartX = 900;
        const ledY = 100;
        const days = ['MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT', 'SUN'];
        for (let i = 0; i < 7; i++) {
            const x = ledStartX + (i * 60);
            // LED
            ctx.fillStyle = '#ffeb3b';
            ctx.beginPath();
            ctx.arc(x, ledY, 12, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // Label
            ctx.fillStyle = colors.text;
            ctx.font = 'bold 11px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(days[i], x, ledY + 30);
            
            // Resistor
            ctx.strokeStyle = '#D2691E';
            ctx.lineWidth = 6;
            ctx.beginPath();
            ctx.moveTo(x, ledY + 15);
            ctx.lineTo(x, ledY + 40);
            ctx.stroke();
            
            // Resistor stripes
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            for (let j = 0; j < 3; j++) {
                ctx.beginPath();
                ctx.moveTo(x - 5, ledY + 20 + (j * 5));
                ctx.lineTo(x + 5, ledY + 20 + (j * 5));
                ctx.stroke();
            }
            
            // 220Œ© label
            ctx.fillStyle = colors.text;
            ctx.font = '9px Arial';
            ctx.fillText('220Œ©', x + 20, ledY + 30);
            
            // Pins
            drawPin(x, ledY - 12, colors.signal);
            drawPin(x, ledY + 40, colors.ground);
        }
        
        // Draw Buzzer (2 WIRES ONLY!)
        drawComponent(950, 350, 100, 60, 'Buzzer', '2-Wire');
        drawPin(1050, 375, colors.signal);  // Signal pin
        drawPin(1050, 395, colors.ground);   // Ground pin
        
        // Draw 4 Buttons
        const buttonY = 480;
        const buttonLabels = [
            { label: 'UP', icon: '‚Üë', x: 900 },
            { label: 'DOWN', icon: '‚Üì', x: 990 },
            { label: 'SET', icon: '‚öô', x: 1080 },
            { label: 'CONFIRM', icon: '‚úì', x: 1170 }
        ];
        
        buttonLabels.forEach((btn, i) => {
            drawButton(btn.x, buttonY, btn.label, btn.icon);
            // Connection pins
            drawPin(btn.x + 35, buttonY + 50, colors.signal); // Bottom (to Arduino)
            drawPin(btn.x + 35, buttonY + 70, colors.ground);  // Below button (to GND)
            drawPin(btn.x + 35, buttonY - 30, colors.power);   // Top of resistor (to 5V)
        });
        
        // Draw breadboard representation
        ctx.fillStyle = '#F5DEB3';
        ctx.fillRect(380, 650, 500, 150);
        ctx.strokeStyle = '#333';
        ctx.lineWidth = 2;
        ctx.strokeRect(380, 650, 500, 150);
        
        ctx.fillStyle = colors.text;
        ctx.font = 'bold 16px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('BREADBOARD', 630, 680);
        ctx.font = '12px Arial';
        ctx.fillText('(Use power rails for 5V and GND distribution)', 630, 700);
        
        // Power rails
        ctx.fillStyle = colors.power;
        ctx.fillRect(400, 730, 440, 15);
        ctx.fillStyle = 'white';
        ctx.font = 'bold 11px Arial';
        ctx.fillText('+ RAIL (5V)', 500, 741);
        
        ctx.fillStyle = colors.ground;
        ctx.fillRect(400, 760, 440, 15);
        ctx.fillStyle = 'white';
        ctx.fillText('- RAIL (GND)', 500, 771);
        
        // Draw all connections
        // OLED connections
        drawWire(220, 110, arduinoX - 30, arduinoY + 80, colors.power, '5V');
        drawWire(220, 125, arduinoX - 30, arduinoY + 100, colors.ground, 'GND');
        drawWire(220, 140, arduinoX + 95, arduinoY + 280, colors.sda, 'A4');
        drawWire(220, 155, arduinoX + 120, arduinoY + 280, colors.scl, 'A5');
        
        // RTC connections
        drawWire(220, 230, arduinoX - 30, arduinoY + 80, colors.power);
        drawWire(220, 245, arduinoX - 30, arduinoY + 100, colors.ground);
        drawWire(220, 260, arduinoX + 95, arduinoY + 280, colors.sda);
        drawWire(220, 275, arduinoX + 120, arduinoY + 280, colors.scl);
        
        // LED connections
        for (let i = 0; i < 7; i++) {
            const x = ledStartX + (i * 60);
            const pinNum = 2 + i;
            const pinY = arduinoY + 80 + (pinNum - 2) * 15;
            drawWire(x, ledY - 12, arduinoX + 210, pinY + 4, colors.signal, pinNum.toString());
            drawWire(x, ledY + 40, 620, 760, colors.ground);
        }
        
        // Buzzer connections (2 WIRES ONLY!)
        drawWire(1050, 375, arduinoX + 210, arduinoY + 80 + 7 * 15 + 4, colors.signal, '9');
        drawWire(1050, 395, 620, 760, colors.ground);
        
        // Button connections (4 buttons: pins 10, 11, 12, 13)
        buttonLabels.forEach((btn, i) => {
            const pinNum = 10 + i;
            const pinY = arduinoY + 80 + (pinNum - 2) * 15;
            
            // Button to Arduino pin
            drawWire(btn.x + 35, buttonY + 50, arduinoX + 210, pinY + 4, colors.signal, pinNum.toString());
            
            // Button to GND
            drawWire(btn.x + 35, buttonY + 70, 620, 760, colors.ground);
            
            // Resistor to 5V
            drawWire(btn.x + 35, buttonY - 30, 620, 730, colors.power);
        });
        
        // Add connection notes
        ctx.fillStyle = colors.text;
        ctx.font = '12px Arial';
        ctx.textAlign = 'left';
        ctx.fillText('‚úì Both OLED & RTC share A4 (SDA) and A5 (SCL)', 50, 820);
        ctx.fillText('‚úì All GND wires connect together on breadboard - rail', 50, 840);
        ctx.fillText('‚úì All 5V wires connect together on breadboard + rail', 50, 860);
        ctx.fillText('‚úì Each button has 3 connections: to Arduino pin, to GND, and to 5V through 10kŒ© resistor', 50, 880);
        ctx.fillText('‚úì LEDs: Long leg ‚Üí Arduino pin (through 220Œ©), Short leg ‚Üí GND', 50, 900);
        ctx.fillText('‚úì Buzzer: 2 wires only - Signal to Pin 9, GND to ground', 50, 920);
        
        // Highlight box for buttons
        ctx.strokeStyle = '#4CAF50';
        ctx.lineWidth = 3;
        ctx.setLineDash([5, 5]);
        ctx.strokeRect(880, 440, 340, 180);
        ctx.setLineDash([]);
        
        ctx.fillStyle = '#4CAF50';
        ctx.font = 'bold 14px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('NEW: 4 BUTTON CONTROL PANEL', 1050, 430);
        
    </script>
</body>
</html>